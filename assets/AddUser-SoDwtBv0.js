import{r as t,U as y,u as N,j as e}from"./index-Q-PD5Ur7.js";function g(i){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)}const j=()=>{const{dispatch:i,state:d}=t.useContext(y),c=N(),[a,b]=t.useState({name:"",email:"",phone:"",street:"",suite:"",city:"",zipcode:"",companyName:""}),[r,u]=t.useState({}),[o,n]=t.useState(!1),s=l=>{b(m=>({...m,[l.target.name]:l.target.value}))},p=()=>{const l={};return a.name.trim()||(l.name="Name is required"),a.email.trim()?g(a.email)||(l.email="Invalid email format"):l.email="Email is required",u(l),Object.keys(l).length===0},h=l=>{if(l.preventDefault(),!p())return;n(!0);const m={id:d.users.length>0?Math.max(...d.users.map(x=>x.id))+1:1,name:a.name.trim(),email:a.email.trim(),phone:a.phone.trim(),address:{street:a.street.trim(),suite:a.suite.trim(),city:a.city.trim(),zipcode:a.zipcode.trim()},company:{name:a.companyName.trim(),catchPhrase:"",bs:""}};i({type:"ADD_USER",payload:m}),n(!1),c("/")};return e.jsxs("div",{className:"p-4 max-w-lg mx-auto",role:"main","aria-label":"Add User Page",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",tabIndex:0,"aria-label":"Add New User Heading",children:"Add New User"}),e.jsxs("form",{onSubmit:h,noValidate:!0,"aria-label":"Add User Form",autoComplete:"off",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block font-semibold mb-1",children:"Name *"}),e.jsx("input",{id:"name",name:"name",value:a.name,onChange:s,className:`block w-full px-3 py-2 border rounded ${r.name?"border-red-500":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!r.name,"aria-describedby":r.name?"name-error":void 0,autoComplete:"name"}),r.name&&e.jsx("p",{id:"name-error",className:"text-red-600 mt-1 text-sm",role:"alert",children:r.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block font-semibold mb-1",children:"Email *"}),e.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:s,className:`block w-full px-3 py-2 border rounded ${r.email?"border-red-500":"border-gray-300"}`,"aria-required":"true","aria-invalid":!!r.email,"aria-describedby":r.email?"email-error":void 0,autoComplete:"email"}),r.email&&e.jsx("p",{id:"email-error",className:"text-red-600 mt-1 text-sm",role:"alert",children:r.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phone",className:"block font-semibold mb-1",children:"Phone"}),e.jsx("input",{id:"phone",name:"phone",value:a.phone,onChange:s,className:"block w-full px-3 py-2 border border-gray-300 rounded",autoComplete:"tel"})]}),e.jsxs("fieldset",{className:"mb-4 border border-gray-300 rounded p-3","aria-label":"Address Fields",children:[e.jsx("legend",{className:"font-semibold px-2",children:"Address"}),e.jsx("input",{name:"street",placeholder:"Street",value:a.street,onChange:s,className:"block w-full mb-2 px-3 py-2 border border-gray-300 rounded","aria-label":"Street",autoComplete:"address-line1"}),e.jsx("input",{name:"suite",placeholder:"Suite",value:a.suite,onChange:s,className:"block w-full mb-2 px-3 py-2 border border-gray-300 rounded","aria-label":"Suite",autoComplete:"address-line2"}),e.jsx("input",{name:"city",placeholder:"City",value:a.city,onChange:s,className:"block w-full mb-2 px-3 py-2 border border-gray-300 rounded","aria-label":"City",autoComplete:"address-level2"}),e.jsx("input",{name:"zipcode",placeholder:"Zipcode",value:a.zipcode,onChange:s,className:"block w-full mb-2 px-3 py-2 border border-gray-300 rounded","aria-label":"Zipcode",autoComplete:"postal-code"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"companyName",className:"block font-semibold mb-1",children:"Company Name"}),e.jsx("input",{id:"companyName",name:"companyName",value:a.companyName,onChange:s,className:"block w-full px-3 py-2 border border-gray-300 rounded","aria-label":"Company Name",autoComplete:"organization"})]}),e.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50","aria-busy":o,children:o?"Adding...":"Add User"})]})]})};export{j as default};
